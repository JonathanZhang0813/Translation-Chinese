`diffuse`是观察者关键字，作用于模型中的每个格子。它导致每个格子将给定格子变量的值扩散（或散布）到它们的8个相邻色块。当我们要模拟发生扩散的过程（例如气味或空气中的污染物的扩散）时，此关键字非常有用。

例如，如果每个格子拥有一个*污染*变量，可以分散该格子的污染程度，则可以使用（作为观察者，而不是在`ask patches`块内部） `diffuse heat 0.5` ，每个格子可以将一半的热量平均分配给它周围的8个相邻格子。每个相邻格子将获得原始热量的1/2的1/8，导致每个相邻格子的热量增加，但原始格子的热量减半。

使用`diffuse`时要记住的事情：

- 您不能在`ask`块内使用`diffuse` 。它是仅用于观察者的关键字。
- 如果您希望获得相同的结果，但作用在4个基本方向的相邻格子，则也可以使用`diffuse4`关键字。


在下面的模型示例中，我们使用`diffuse`对工厂的空气污染进行建模。在每个周期，工厂通过将格子的污染变量增加1来将一些污染物释放到空气中。然后，污染物从原始格子到其相邻格子，然后从相邻格子到相邻格子的相邻格子，依此类推。结果，污染物通过空气传播，形成了污染的区域。
