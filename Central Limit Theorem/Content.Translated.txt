*** a9ab0d60c4bb64a6ae5b2b0bde5e0b25
## 这个模型是什么？

这证明了总体分布与其样本均值分布之间的关系，以及样本量对这种关系的影响。在此模型中，人口按某些变量分布，例如按其总资产以数千美元计。总体是随机分布的——不一定是“正常的”——但来自该总体的样本均值仍然以接近正态曲线的分布累积。该程序允许对种群中的单个样本进行重复抽样。

该模型是 ProbLab 课程的一部分。 ProbLab 课程目前正在 CCL 开发中。有关 ProbLab 课程的更多信息，请参阅 http://ccl.northwestern.edu/curriculum/ProbLab/。

## 这个模型是怎么运行的

程序或用户创建了一个范围沿着某个维度的人口，例如总资产。在视图中，我们看到这个人口排列在一个“图片条形图”中。例如，穷人靠左，富人靠右。接下来，从这个群体中选择一组个体样本作为样本（这些被抽样的人被涂上不同的颜色）。程序计算这个样本的平均值——他们的平均资产——并将这个平均值图表在视图下方的直方图中。我们可以设置程序重复采样，可以观察到样本均值分布的出现。我们还可以查看样本总和的相应直方图。这使我们能够根据它们的分布特性来研究总和和均值之间的关系。

## 如何这个模型怎么用

按 SETUP，然后按 CREATE RANDOM PEOPLE 或 CREATE MY OWN PEOPLE 或仅按其中一个 PRESET 按钮。如果您创建了随机的人，或者您按下了其中一个预设，您现在可以按下 GO ONCE 或 GO。但是，如果您按下了创建我自己的人，您现在需要单击视图来创建这些人。只有这样，您才应该按 GO ONCE 或 GO。您还可以改变滑块的设置。观察图表中的结果并探索设置与结果之间的关系。如果您想在开始采样之前猜测样本均值的平均值，可以使用 RANGE滑块来指示该均值的位置。

纽扣：
SETUP——初始化变量
CREATE RANDOM PEOPLE -- 激活 SETUP 然后在视图中创建一个随机人口
创建我自己的人 - 允许用户通过单击视图来创建人
PRESET 1 - PRESET 6 - 创建具有可能感兴趣的特殊模式的群体
GO ONCE——在总体中标记一个样本并计算并图表它们的平均值。
GO——无限重复GO ONCE。

滑块：
SAMPLER SIZE - 确定在 Go过程中每次运行时采样的样本数量
MAX-VALUE -- 确定总体成员可以取的值的范围（0 到 MAX-VALUE 区间上的一个数字）

开关：
还和？ -- 如果设置为“开”，则绘制样本总和（以及这些总和的平均值）以及样本的平均值（以及这些平均值的平均值）。如果设置为“关闭”，则仅绘制平均值。
展示电动车？ -- 如果设置为“开”，预期值 (EV) 监视器将显示一个值

监视器：
NUM-SAMPLES - 显示上次“设置”采集的样本总数。
预期值——计算总体的平均 x 值。对于每一列，程序计算海龟数量和该列的 x 值的乘积。接下来，将所有这些产品相加并除以海龟总数。
STD-DEV-MEANS——显示样本均值直方图的标准偏差。这是分布“扩散”程度的指标。数字越小，样本均值的分布越紧密（越窄，越聚集）。
STD-DEV-MEANS——显示样本总和直方图的标准偏差。

情节：
SAMPLE-MEAN DISTRIBUTION——所有样本的平均值分布和所有样本的平均和。

## 看一看

我们正在查看的属性由视图中条形图中人员的“x 值”索引。一个人的 x 值可以在视图中其列底部的数字标签中看到。例如，最左边一列中人的 x 值为 0。原则上，可能没有 x 值为“0”的人，可能只有一个人具有该值，或者可能有两个或更多。它们都共享相同的值，因为它们都在同一列中。

当您按 GO 或 GO ONCE 时变为绿色的总体成员是“样本”。他们的平均 x 值，例如他们的储蓄，绘制在视图下方的直方图中。例如，如果抽取三个人的样本，并且他们的 x 值为 7、8 和 12，那么直方图列“9”将增加一个单位，因为 9 是 7、8 和 12 的平均值.

对于人口的某些设置，您采集的样本越多，您获得稀有样本的可能性就越大。因此，仅在几个样本之后得到的分布不一定反映所有可能的平均值。

## 试一试

你能看到人口分布（在图形显示窗口中）和直方图的平均值（在图表窗口中）之间的任何联系吗？例如，如果在范围的左侧碰巧有更多的人口样本（“人”），您希望在哪里看到大部分样本均值？

尝试使用只有 1 的 SAMPLE-SIZE 运行模型。你会得到什么。现在尝试使用 2 的 SAMPLE-SIZE。有什么改变吗？更大的样本量如何？

SAMPLE SIZE、RANGE 和 STD-DEV 之间有什么联系吗？探索这个问题的一种方法是保持其中两个变量不变，并检查当您更改第三个变量时会发生什么。您可能希望为每个试验抽取相同数量的样本。

如果您将模型设置为大于总体总大小的样本大小，您将收到一条消息，告诉您无法执行此操作。但是，您可以设置大于大多数列的样本大小。这意味着整个样本无法放入这些列中。这是一个问题吗？这对样本均值的分布有什么影响？

使用 CREATE MY OWN PEOPLE 选项，建立一些“不寻常”的人口。其中一些已经被放入 PRESET 按钮中。例如，您可以只在一列或两列中创建人员，或者您可以将人口设置为“U 形”（在外部更多，向中间方向越来越少）。你的发现是什么？

同样，使用 CREATE MY OWN PEOPLE 选项，在视图右侧构建一个非常高的列（大约在 x 值 8 处）并构建一些非常短的列。将 SAMPLE-SIZE 设置为 10。按 GO ONCE。你能说一下从高大的柱子中碰巧选出的人数吗？再试一次，然后按 GO。看图表。您是否看到从高列获取样本的机会与图表中平均值的位置之间有任何联系？

设置 ALSO-SUMS？到“开”，然后激活程序。你能解释一下你得到的两个直方图的异同吗？例如，您可以查看它们的范围、它们覆盖的总面积、它们的高度和它们的图形。尝试解释两个直方图之间的转换。例如，为什么左边的直方图比右边的直方图高？查看均值和总和的标准差。这两个值之间的比率是多少？此比率是否与此模型设置中的任何其他值相关？

关于两个直方图，你能找到两个直方图收敛到一个直方图的情况吗？

按 SETUP，按 CREATE MY OWN PEOPLE 并制作 6 个高度为 2 的列（两个人），将样本大小设置为 2，并设置 ALSO-SUMS？到“开”。现在按 GO。比较这个统计活动和你掷一对骰子的概率活动是很有趣的。例如，总和直方图中有多少可能的列？事实上，这样的比较可以帮助我们思考统计和概率之间的异同。

您采集的样本数量、每个样本的大小以及由此产生的样本均值分布之间的关系是什么？例如，如果您有预算对 1,000 人进行抽样，您应该分别抽取 10 个大小为 100 的样本还是每个大小为 100 个大小为 10 的样本？在这些选择中，你得到了什么，也许你失去了什么？例如，就置信度或您所抽样的总体信息而言。要探索这个问题，您可能需要扩展样本量的范围。您可能还想调整视图大小，以便在您的群体中容纳更多标本。最后，有一个滑块和相应的代码来控制您正在采集的样本总数可能会有所帮助。

## 教学说明

首先要记住的是，实际上我们不知道我们抽样的总体分布。我们只有图表，可以这么说。因此，当您与此模型进行交互时，您应该记得在应用统计中不存在图形显示。然而，在这个模型中，我们正在模拟总体——就好像我们确实知道它的分布一样——以了解总体指标与其样本均值分布之间的关系。

您可能已经注意到，几乎无论您的总体图形如何，直方图最终都会呈现出某种图形。这种图形称为“正常曲线”或“钟形曲线”或“钟形曲线”。我们说直方图“接近”正态曲线，因为它需要越来越多的样本。对于特殊的人口分布，我们可能会得到这条曲线的特殊情况。例如，如果您创建了一个将所有人都放在同一列中的人口，那么您的直方图将是钟形曲线的极端情况——它本身将仅包含一列。

通常，人们会说，“人口是分布的……等等”，但有时他们的实际意思可能是，“人口的样本均值是分布的……等等”。这并不意味着第二种修辞方式一定更可取，而只是我们应该理解这两种想法之间的区别。在此模型中，视图显示总体本身的分布情况，而图表显示样本均值的分布情况。使用这个模型，人们可能会对这两种分布之间的对比感到震惊。

该图表显示了样本均值的分布和这些均值的均值。该均值均值收敛于从该总体中抽样的预期值。它可以计算为平均 x 值。也就是说，将每列的 x 和 y 值相乘，将这些乘积相加，然后将总和除以数据点（“人”）的总数。例如，如果有 3 人超过 0 值，2 人超过 1 值，5 人超过 2 值，则 x 和 y 三个乘积之和为：
3*0 + 2*1 + 5*2 = 12。我们现在将 12 除以 10（总人数）。
12：10 = 1.2。因此，如果我们从这个总体中抽样，样本均值的均值将收敛于 1.2。尝试这个。您可以使用上述示例或您发明的任何其他示例。

最大的挑战是使用这个模型来解释为什么，当我们采取足够的样本时，我们几乎总是得到一个钟形曲线。

请注意以下潜在的混淆点。为了能够仔细检查抽样过程，该模型中的群体包含的样本少于研究人员通常使用统计分析研究的大多数群体。例如，一个群体中可能有不超过 5 个个体样本共享相同的 x 值（即，他们都在同一列中）。因此，大小大于该列中样本数量的样本，例如大小为 8 的样本，永远不能仅包含来自该列的样本。在“现实生活”中，理论上可能会发生整个随机样本取自单列的情况。这意味着，如果您使用大样本量，您应该期望得到比其他情况更窄的样本均值分布。例如，如果最左边的列不够高，无法包含整个样本，您将永远不会收到与该列的 x 值相等的样本均值。这是因为一些样本会“溢出”到该列的右侧，从而导致更大的样本均值。因为同样的逻辑适用于从最右边采集的样本，所以样本平均值将比小样本量更靠近中心。

## 改一改

该模型的当前版本允许对单个样本进行重复采样。这意味着，如果一个人在第一个样本中被随机抽取，那么可以在第二个样本中再次对其进行抽样，以此类推。如果我们不允许这种重复抽样，样本均值分布会受到影响吗？如果是这样，怎么做？添加仅允许重复采样的代码作为选项，并比较两个选项之间的结果。

中位数如何表现？方式和手段一样吗？添加一个选项以查看总体和样本数据的中位数。

添加一个监视器，显示此模型中表示的两个标准偏差之间的比率。

该模型显示了采样数据的平均值和总和。查看样本的其他分析可能会很有趣。例如，抽样人员的所有值的乘积以及该乘积的 n 次根（对于大小为 n 的样本）。

随着我们收集越来越多的样本，标准偏差如何变化？要检查这一点，您可以添加标准偏差随“时间”（超过样本）的图表。

## NetLogo 语言特性

在“draw”过程中，我们使用了一个临时变量“temp-mouse-xcor”。这个变量确保程序不会变得“混乱”。如果没有这个变量，程序可能会在“ifelse”代码中输入一个子句，该子句不再满足用户用鼠标单击时的实际意思。这可能会发生，因为用户正在快速移动鼠标。所以程序选择了当时正确的`ifelse`子句，但同时鼠标点击已经在其他地方，所以子句选择不再合适。临时变量通过执行指令来避免这种情况，就好像鼠标仍然在刚才所在的位置单击一样。

在当前版本中，您可以创建总体，但不能对抽样进行试验。建立一个允许您自己取样的过程。

## 相关模型

Several ProbLab models look at the emergence of bell-shaped curves through the accumulation of sample means. See, for example, Prob Graphs Basic and Random Basic Advanced. To look closer at the idea of expected value, see the models Expected Value and Expected Value Advanced.

## 引用和致谢

This model is a part of the ProbLab curriculum. The ProbLab Curriculum is currently under development at Northwestern's Center for Connected Learning and Computer-Based Modeling. . For more information about the ProbLab Curriculum please refer to http://ccl.northwestern.edu/curriculum/ProbLab/.

## 如何引用本模型

If you mention this model or the NetLogo software in a publication, we ask that you include the citations below.

For the model itself:

* Abrahamson, D. and Wilensky, U. (2005).  NetLogo Central Limit Theorem model.  http://ccl.northwestern.edu/netlogo/models/CentralLimitTheorem.  Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.

Please cite the NetLogo software as:

* Wilensky, U. (1999). NetLogo. http://ccl.northwestern.edu/netlogo/. Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.

## 版权和授权

Copyright 2005 Uri Wilensky.

![CC BY-NC-SA 3.0](http://ccl.northwestern.edu/images/creativecommons/byncsa.png)

This work is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 3.0 License.  To view a copy of this license, visit https://creativecommons.org/licenses/by-nc-sa/3.0/ or send a letter to Creative Commons, 559 Nathan Abbott Way, Stanford, California 94305, USA.

Commercial licenses are also available. To inquire about commercial licenses, please contact Uri Wilensky at uri@northwestern.edu.

<!-- 2005 Cite: Abrahamson, D. -->